# ============================================================================
# SEWA-IN Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# CRITICAL: Never commit .env with real values!
#
# Requirements by Environment:
#   Development: Semua variables bisa default (untuk local development)
#   Production: Semua variables harus secure & unique (CRITICAL!)
# ============================================================================

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Server port number (1-65535)
# Default: 5000
PORT=5000

# Application environment: development | production | test
# CRITICAL: Must be 'production' in production server
NODE_ENV=development

# ============================================================================
# CLIENT CONFIGURATION
# ============================================================================

# Frontend URL untuk CORS whitelist
# Development: http://localhost:5173
# Production: https://yourdomain.com (MUST update!)
CLIENT_URL=http://localhost:5173

# ============================================================================
# DATABASE CONFIGURATION (CRITICAL!)
# ============================================================================

# MySQL connection string
# Format: mysql://user:password@host:port/database
# 
# Development: mysql://root:root@localhost:3306/sewain
# Production: mysql://secure_user:secure_password@hostname/database
#
# SECURITY NOTES:
# - Never hardcode database password
# - Use environment-specific credentials
# - In production, use separate DB user with minimal permissions
DATABASE_URL="mysql://root:root@localhost:3306/sewain"

# ============================================================================
# JWT AUTHENTICATION (CRITICAL!)
# ============================================================================

# Secret key untuk JWT signing
# 
# REQUIREMENTS:
#   - Minimum 32 characters
#   - Must be random & unique (generate dengan: openssl rand -base64 32)
#   - NEVER use default value in production
#   - Change regularly (monthly recommended)
#
# Development example: super-secret-change-this-for-development-only-32chars!
# Production: MUST be changed to random secure value!
JWT_SECRET=super-secret-change-this

# Cookie name untuk menyimpan JWT token
# Default: sewa_token
AUTH_COOKIE_NAME=sewa_token

# ============================================================================
# PAYMENT GATEWAY (Midtrans)
# ============================================================================

# Midtrans Server Key (untuk backend integration)
# Get dari: https://dashboard.midtrans.com → Settings → Access Keys
# 
# REQUIRED di production
# Optional di development (bisa testing tanpa pembayaran)
MIDTRANS_SERVER_KEY=

# Midtrans Client Key (untuk frontend integration)
# Get dari: https://dashboard.midtrans.com → Settings → Access Keys
# 
# REQUIRED di production
# Optional di development
MIDTRANS_CLIENT_KEY=

# ============================================================================
# LOGGING
# ============================================================================

# Log level: error | warn | info | debug
# Default: info (production), debug (development)
LOG_LEVEL=debug

# ============================================================================
# QUICK START GUIDE
# ============================================================================
#
# 1. DEVELOPMENT SETUP:
#    cp .env.example .env
#    npm install
#    npm run prisma:generate
#    npm run prisma:migrate
#    npm run dev
#
# 2. PRODUCTION DEPLOYMENT:
#    - Change NODE_ENV=production
#    - Change JWT_SECRET to secure random value (openssl rand -base64 32)
#    - Update DATABASE_URL dengan production database
#    - Update CLIENT_URL ke production frontend domain
#    - Set MIDTRANS_SERVER_KEY dan MIDTRANS_CLIENT_KEY
#    - Run database migrations: npm run prisma:migrate:prod
#    - Start: npm start
#
# 3. VALIDATE CONFIGURATION:
#    npm run validate:env
#
# ============================================================================
# SECURITY CHECKLIST
# ============================================================================
#
# Development:
#   ☐ Copy .env.example ke .env
#   ☐ Fill semua REQUIRED variables
#   ☐ Test di local: npm run dev
#
# Production:
#   ☐ Generate random JWT_SECRET (32+ chars)
#   ☐ Update DATABASE_URL dengan production credentials
#   ☐ Update CLIENT_URL ke production domain
#   ☐ Set MIDTRANS keys dari dashboard
#   ☐ Run validation: npm run validate:env
#   ☐ Test di staging first
#   ☐ NEVER commit .env file with real values
#   ☐ Use environment-specific secrets management (AWS Secrets, etc)
#
# ============================================================================
